<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>
  <style>
  button{position:relative;background-color:white;border-color:black;color:black;border-radius:10px;border-width:2px;top:5px;right:550px;width:200px}
button:hover{color:white;background-color:black}
button:focus {outline:0;}
span{float:right;margin-right:10px}
img{height:25px;width:25px;float:right;margin-right:575px}
.dashboard{position:absolute;top:135px}
#left{float:left;text-align:left}
.left{float:left;text-align:left}
#imageheir img{float:left;margin-right:0px;display:inline-block;margin:10px}
h1{bottom:11px;position:relative}
.black_overlay{
        display: none;
        position: absolute;
        top: 0%;
        left: 0%;
        width: 100%;
        height: 100%;
        background-color: black;
        z-index:1001;
        -moz-opacity: 0.8;
        opacity:.80;
        filter: alpha(opacity=80);
    }
    .white_content {
      font-family:arial;
        display: none;
        position: absolute;
        top: 25%;
        left: 25%;
        width: 50%;
        height: 200px;
        padding: 16px;
        border: 4px solid black;
        background-color: white;
        z-index:1002;
        overflow: auto;
    }
  </style>
  <div id = "navboard">
       
  </h4>
    <br>
  </div>
<div class="container">
  <h2>Immunization Idle</h2>
  

  <div class="panel-group" id="accordion" style = "margin-top:50px">
    <!-- -->
    <div class="panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">
          Vital Statistics: 
          <p class = "dashboard" style = "left:240px" data-placement = "bottom" data-toggle="tooltip" title="This is money! Usually, you want a large amount of this stuff. When it is green, that means you have a positive amount of money. When it is red, you have a negative amount of money. Every in-game hour debt increases by 1.001. If your debt ever goes below your life earnings, your company is shut down.">$: <span id = "cash" style = "margin-left:5px"></span></p>
  <p class = "dashboard" style = "left:400px" data-placement = "bottom" data-toggle="tooltip" title="The clock measures the in-game time. Your workers come and leave work at a designated time. Certain upgrades can make workers come earlier and leave later">Clock:   <span id = "time" style = "margin-left:5px"></span></p>
  <p class = "dashboard" style = "left:700px" data-placement = "bottom" data-toggle="tooltip" title="Wages are charged every day, and all workers require money! Why would they work for no wages...? This is the main way you can go bankrupt- Not having enough wages to pay your workers. You must be very careful to be able to pay your workers.">Cost per day:
  <span id = "daycost" style = "margin-left:5px"></span>
    <p class = "dashboard" style = "left:1000px" data-placement = "bottom" data-toggle="tooltip" title="Population is calculated by the ACTUAL WORLD POPULATION! Have fun controlling the 7.4 billion population! *since you don't have a supercomputer you will have two-year olds in your company... If you have a supercomputer, I am in awe.*">Population:  <span id="population" style="margin-left:5px"></span>
        </h4>
      </div>
      <div class="panel-collapse collapse">
        <div class="panel-body"></div>
         </div></div>
    <!-- -->
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">Workers</a>
        </h4>
      </div>
      
      <div id="collapse1" class="panel-collapse collapse in">
        <div class="panel-body">
          <p class = "left" data-placement = "bottom" data-toggle="tooltip" title="This is your population balance. You can't have more workers than the world's populaion.">Worker balance: <span id = "workercount"  style = "margin-left:5px"></span></p>
          <br>
          <br>
          <button data-placement = "right" data-toggle="tooltip" title="You are the leader of the leader of the III (Immunization Intelligence Industry) and you are trying to save the world from diseases, both major and minor. Your workers are dedicated, and will not quit unless you run out of money, or worst-case scenario, they die. The amount of workers you can have at once is determined by the population, and a certain upgrade will allow you to obtain rather pricy robot workers.">About you &amp; your workers</button>
          <p>CEO Skill Level <img src = "https://i.imgsafe.org/c47a7d3.png"  data-placement = "right" data-toggle="tooltip" title="CEO Skill Level is determined by morale, amount of workers, money, and time spent playing the game. It is measured to the nearest thousandth. Each level of CEO skill increases the production multiplier of workers and researchers by 1"/><span id = "ceo-skill"></span></p>
          <button onclick = "hire_supervisor()">Hire for $500/day + $5000</button>
          <p>Supervisors <img src = "https://i.imgsafe.org/c76c49c.png"  data-placement = "right" data-toggle="tooltip" title="Supervisors are good support if you have a good deal of workers. They improve the work of researchers and workers by %1 each."/><span id = "supervisors"></span></p>
          <button onclick = "hire_employer()">Hire for $1000/day + $10000</button>
          <p>Employers <img src = "https://i.imgsafe.org/c4efb2e.png" data-placement = "right" data-toggle="tooltip" title="Employers are skilled in the art of employing! They get you a new worker every 2.5 seconds, free of the initial $1000 payment."/><span id = "employers"></span></p>
          <button  onclick = "hire_researcher()">Hire for $200/day + $2000</button>
          <p>Researchers <img src = "https://i.imgsafe.org/c5e3f5f.png" data-placement = "right" data-toggle="tooltip" title="Researchers are one of the most important workers of the game. They research to cure diseases, and when they cure a disease, you will get huge benefits."/><span id = "researchers"></span></p>
          <button onclick = "hire_worker()">Hire for $100/day + $1000</button>
          <p>Workers <img src = "https://i.imgsafe.org/c688922.png" data-placement = "right" data-toggle="tooltip" title="Clinic staff, interns, fundraisers... Workers are the backbone of your company. They produce money that allows your business to grow."/><span id = "workers"></span></p>
         
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">Research Progress</a>
        </h4>
      </div>
      <div id="collapse2" class="panel-collapse collapse">
        <div class="panel-body">
          <div id = "disease"></div>
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Upgrades</a>
        </h4>
      </div>
      <div id="collapse3" class="panel-collapse collapse">
        <div class="panel-body" id = "imageheir">
<img src = "http://image005.flaticon.com/1/svg/60/60899.svg" class = "imageheir" data-placement = "bottom" data-toggle="tooltip" title="Swivel chairs - Everyone wants a swivel chair! Why? I don't know. It makes you look more official, and also can be used as means of transportation (Increases severity of obesity)"/>
<img src = "http://image005.flaticon.com/1/svg/110/110174.svg" class = "imageheir" data-placement = "bottom" data-toggle="tooltip" title="Free candy - Great for making everyone a little bit happier (Increases severity of diabetes)"/>
<img src = "http://image005.flaticon.com/1/svg/12/12896.svg" class = "imageheir" data-placement = "bottom" data-toggle="tooltip" title="Caffeine injection - Workers wake up 1 hour earlier than normal (Increases severity of sleep loss)"/></div>
      </div></div>
       <div class="panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapse4">Statistics</a>
        </h4>
      </div>
      <div id="collapse4" class="panel-collapse collapse">
        <div class="panel-body"><div id = "stats"></div>
        </div>
         </div>
    </div>
         
            <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapse5">Prestiege</a>
        </h4>
      </div>
      <div id="collapse5" class="panel-collapse collapse">
        <div class="panel-body">Ready to reset your business? All of your statistics will reset, yet you will be able to spend special prestiege points to get various perks.</div>
      </div>
    </div>
  </div>
  </div> 
</div>
    <div id="light" class="white_content">You just cured foo and got the benefits of jah <b onclick = "unfoo()">Close</b></div>
    <div id="fade" class="black_overlay"></div>
    <script>
  var test = new Date
function maind(){
	startdate = new Date()
	now(startdate.getYear(),startdate.getMonth(),startdate.getDate(),startdate.getHours(),startdate.getMinutes(),startdate.getSeconds())
}


function ChangeValue(number,pv){
	numberstring =""
	var j=0 
	var i=0
	while (number > 1)
	 { 

	    numberstring = (Math.round(number-0.5) % 10) + numberstring
	    number= number / 10
	    j++
	    if (number > 1 && j==3) { 
			numberstring = "," + numberstring 
			j=0}
	    i++
	 }

	 numberstring=numberstring

if (pv==1) {document.getElementById("population").innerHTML=numberstring }
}


function now(year,month,date,hours,minutes,seconds){       
startdatum = new Date(year,month,date,hours,minutes,seconds)

var now = 5600000000.0
var now2 = 5690000000.0
var groeipercentage = (now2 - now) / now *100
var groeiperseconde = (now * (groeipercentage/100))/365.0/24.0/60.0/60.0 
nu = new Date ()                
schuldstartdatum = new Date (96,1,1)                            
secondenoppagina = (nu.getTime() - startdatum.getTime())/1000
totaleschuld= (nu.getTime() - schuldstartdatum.getTime())/1000*groeiperseconde + now
ChangeValue(totaleschuld,1);


timerID = setTimeout("now(startdatum.getYear(),startdatum.getMonth(),startdatum.getDate(),startdatum.getHours(),startdatum.getMinutes(),startdatum.getSeconds())",200)
}

window.onload=maind
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();   
});
function toFixed(x) {
  if (Math.abs(x) < 1.0) {
    var e = parseInt(x.toString().split('e-')[1]);
    if (e) {
        x *= Math.pow(10,e-1);
        x = '0.' + (new Array(e)).join('0') + x.toString().substring(2);
    }
  } else {
    var e = parseInt(x.toString().split('+')[1]);
    if (e > 20) {
        e -= 20;
        x /= Math.pow(10,e);
        x += (new Array(e+1)).join('0');
    }
  }
  return x;
}
        function abbN(number) {
          number=Math.abs(number)
    decPlaces = Math.pow(10,3);

    // Enumerate number abbreviations
    var abbrev = [ "k", "m", "b","t", "qa","qi", "hx","sp","oc","no","de","dd","td","qud","qad","hd","sd","octodec","nd","ddd"];

    // Go through the array backwards, so we do the largest first
    for (var i=abbrev.length-1; i>=0; i--) {

        // Convert array index to "1000", "1000000", etc
        var size = Math.pow(10,(i+1)*3);

        // If the number is bigger or equal do the abbreviation
        if(size <= number) {
             // Here, we multiply by decPlaces, round, and then divide by decPlaces.
             // This gives us nice rounding to a particular decimal place.
             number = Math.round(number*decPlaces/size)/decPlaces;

             // Add the letter for the abbreviation
             number += abbrev[i];

             // We are done... stop
             break;
        }
    }

    return number;
}
window.rInterval=function(a,b){var c=Date.now,d=window.requestAnimationFrame,e=c(),f,g=function(){c()-e<b||(e+=b,a());f||d(g)};d(g);return{clear:function(){f=1}}};
window.rtimeOut=function(a,b){var c=Date.now,d=window.requestAnimationFrame,e=c(),f,g=function(){c()-e<b?f||d(g):a()};d(g);return{clear:function(){f=1}}};
function fix(x){return abbN(toFixed(Math.floor(x)))}
function hire_worker(){if(cash>=buy_amount*1000){workers+=buy_amount;cash-=buy_amount*1000}}
function hire_researcher(){if(cash>=buy_amount*2000){researchers+=buy_amount;cash-=buy_amount*2000}}
function hire_employer(){if(cash>=buy_amount*10000){employers+=buy_amount;cash-=buy_amount*10000}}
function hire_supervisor(){if(cash>=buy_amount*5000){supervisors+=buy_amount;cash-=buy_amount*5000}}
function benefits(income,multiplier,morale){
  //This is daily income
  this.income = income
  //This increases CEO skill
  this.multiplier = multiplier
  //A raw morale boost
  this.morale = morale
}
function disease(name, research, lore, perks, benefit) {
    this.disease = name;
    this.research = research;
    this.lore = lore;
    this.perks = perks;
    this.benefit = benefit;
}
var allDeath = new disease("Death",100000000000000000,"This is the research to death. If you know how science works, you should also know that this does NOT work...","Not dying...?",new benefits(3000,.05,100))
var cold = new disease("The Common Cold",1000,"You are researching a wonder pill to cure the common cold.","<ul><li>Extra daily income</li><li>Increased morale</li><li>Increased CEO skill level</li></ul>",new benefits(3000,.05,100))
var evermore = true
var potato = new disease("Another disease",5000,"This is a dummy disease with the same benefits as the common cold.","<ul><li>Extra daily income</li><li>Increased morale</li><li>Increased CEO skill level</li></ul>",new benefits(3000,.05,100))
var diseases = [cold,potato,allDeath]
var morale = 0
var dailyBoost = 0
var number = 0 
var progress = 0 
document.getElementById("disease").innerHTML = diseases[0]
var stat = {days:0, cash:100, wages:0};
var days = 0
var buy_amount = 1
var temp = 0
var debt = 0
var cash = 100
var working = false
var wake = 8
var sleep = 16
var hour = 6
var minutes = 0
var minute = 0
var skill = 1
var supervisors = 0
var employers = 0
var workers = 5
var researchers = 2

window.rInterval(function(){document.getElementById("employers").innerHTML = fix(employers);
document.getElementById("workers").innerHTML = fix(workers);
document.getElementById("ceo-skill").innerHTML = skill;
document.getElementById("supervisors").innerHTML = fix(supervisors);
document.getElementById("researchers").innerHTML = researchers;
document.getElementById("cash").innerHTML = fix(cash-debt);
document.getElementById("daycost").innerHTML = "$" +  fix(100*workers+researchers*200+employers*1000+supervisors*500);
document.getElementById("workercount").innerHTML =  " " + Number(workers+employers+researchers+supervisors+1) + "/" + document.getElementById("population").innerHTML
if(Number(cash-debt)<0){document.getElementById("cash").style.color="red"}
                       else{document.getElementById("cash").style.color="green";
                           }
                       document.getElementById("stats").innerHTML = "<p>Lifetime earnings: $" + fix(stat.cash) + " </p>" + "<p> In-game days played: " + fix(stat.days) + "</p><p>Total wages paid: " + fix(stat.wages) + "</p>";
                       if(diseases[number].research<=progress){ 
newMessage("<p>You have cured " + diseases[number].disease + "! Your researchers are researching what to research next. The benefits you recieved from curing " + diseases[number].disease + " are " + diseases[number].perks + "</p>")
skill = skill+diseases[number].benefit.multiplier
morale=morale+diseases[number].benefit.morale
number=number+1
         }
                       else{
                         document.getElementById("disease").innerHTML= "<h1>" + diseases[number].disease + "</h1><p>Current progress:<test style = 'position:relative;left:3px'>"+fix(progress)+ "/"+diseases[number].research + "</test></p><p>" +diseases[number].lore +"</p><p> Benefits for curing this disease include: " + diseases[number].perks + "</p>"     
                       }
               
}, 1);
setInterval(function(){
  if(Number(cash)<0){cash=cash*1.001}
  if(working==true){workers = workers+employers*Math.floor(skill+supervisors/100)}
}, 2500);
setInterval(function(){
  if(working==true){
    progress+=researchers*skill*Number(1+supervisors/100)
    ;cash = cash+workers*5*Number(1+supervisors/100)*skill
                   stat.cash = stat.cash+workers*5*Number(1+supervisors/100)*skill}
}, 1000);
setInterval(function(){
  if(hour>=6 && hour<=18){working=true}
  else{working=false}
  ; 
  if(hour==25){hour=1; stat.days+=1;stat.wages += 100*workers+researchers*200+employers*1000+supervisors*500;
                cash=cash-100*workers-researchers*200-employers*1000-supervisors*500;money=money+dailyBoost}
  if(minutes>58){hour=hour+1;minutes=0}
  minutes=minutes+1
  if(minutes<10){minute = "0" + minutes}
  if(minutes>9){minute = minutes}
  if(minutes==00){minute = "00"}
  if(hour==12){document.getElementById("time").innerHTML = hour + ":"+ minute + "PM"}
  if(hour==24){document.getElementById("time").innerHTML = hour + ":"+ minute + "AM"}
  if(13>hour>0){
  document.getElementById("time").innerHTML = hour + ":"+ minute + "AM"}
else if(hour>12){
  document.getElementById("time").innerHTML = hour-12 + ":"+ minute + "PM"};
   }, 83.33);
    </script>
    <script>
      $("button").addClass("pull-right")
  </script>
</body>
</html>
